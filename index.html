<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>TheHardwareHotline.com - Professional PC Repair</title>
<!-- Tailwind CSS CDN -->
<script src="https://cdn.tailwindcss.com"></script>
<style>
  body { font-family: 'Inter', sans-serif; background-color: #121212; color: #fff; }
  .card-bg { background-color: #1f1f1f; }
  .accent { color: #E87042; }
  button:hover { transform: scale(1.03); }
</style>
</head>
<body class="min-h-screen">

<header class="bg-card-bg border-b-4 border-accent shadow-md sticky top-0 z-50">
  <div class="max-w-7xl mx-auto px-6 py-4 flex justify-between items-center">
    <h1 class="text-3xl font-bold accent">TheHardwareHotline.com</h1>
    <nav class="flex space-x-4">
      <button onclick="showSection('booking')" class="px-4 py-2 rounded-xl bg-accent text-black font-bold">Book Appointment</button>
      <button onclick="showSection('services')" class="px-4 py-2 rounded-xl bg-gray-700 hover:bg-accent font-bold">Our Services</button>
      <button onclick="showSection('appointments')" class="px-4 py-2 rounded-xl bg-gray-700 hover:bg-accent font-bold">View Appointments</button>
    </nav>
  </div>
</header>

<main class="py-12 max-w-6xl mx-auto px-4 space-y-12">

<!-- Services Section -->
<section id="services" class="hidden card-bg p-8 rounded-2xl shadow-lg">
  <h2 class="text-3xl font-bold accent mb-6 text-center">Our Professional Services</h2>
  <ul class="space-y-2 text-lg">
    <li>âœ… Free PC Diagnostics</li>
    <li>âœ… Free Repair Labor</li>
    <li>âœ… Free Remote Optimizations</li>
    <li>âœ… Free Computer Speed Up</li>
    <li>âœ… Free Build Labor</li>
    <li>âœ… You only pay for parts if needed</li>
    <li>âœ… Free Virus Removal</li>
    <li>âœ… Free PC Repair</li>
  </ul>
  <p class="mt-6 text-gray-400 text-center">Donations are appreciated but not required!</p>
  <div class="text-center mt-4">
    <a href="https://www.paypal.com/cgi-bin/webscr?cmd=_donations&business=blackicerocks82@gmail.com&item_name=Support%20TheHardwareHotline.com" target="_blank" class="inline-block px-6 py-3 bg-green-600 rounded-xl font-bold hover:bg-green-700">Donate via PayPal</a>
  </div>
</section>

<!-- Booking Section -->
<section id="booking" class="card-bg p-8 rounded-2xl shadow-lg">
  <h2 class="text-3xl font-bold accent mb-6 text-center">Schedule Your Drop-Off Appointment</h2>
  <form id="bookingForm" class="space-y-4">
    <div>
      <label for="name">Your Name:</label>
      <input type="text" id="name" name="name" class="w-full p-3 rounded-lg bg-gray-700" required>
    </div>
    <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
      <div>
        <label for="date">Preferred Date:</label>
        <input type="date" id="date" name="date" class="w-full p-3 rounded-lg bg-gray-700" required>
      </div>
      <div>
        <label for="time">Preferred Time Slot:</label>
        <select id="time" name="time" class="w-full p-3 rounded-lg bg-gray-700" required>
          <option value="">Select a time</option>
          <option>09:00 - 10:00</option>
          <option>10:00 - 11:00</option>
          <option>11:00 - 12:00</option>
          <option>12:00 - 13:00</option>
          <option>13:00 - 14:00</option>
          <option>14:00 - 15:00</option>
          <option>15:00 - 16:00</option>
          <option>16:00 - 17:00</option>
        </select>
      </div>
    </div>
    <div>
      <label for="description">Issue Description:</label>
      <textarea id="description" name="description" class="w-full p-3 rounded-lg bg-gray-700" rows="3" required></textarea>
    </div>
    <div class="text-center">
      <button type="submit" class="px-6 py-3 bg-accent text-black rounded-xl font-bold">Save Appointment</button>
    </div>
  </form>
  <div id="bookingMessage" class="hidden mt-4 text-center p-3 rounded-lg font-bold"></div>
</section>

<!-- Appointments Section -->
<section id="appointments" class="card-bg p-8 rounded-2xl shadow-lg hidden">
  <h2 class="text-3xl font-bold accent mb-6 text-center">All Appointments</h2>
  <div id="appointmentsList" class="space-y-4 text-gray-200"></div>
</section>

</main>

<footer class="bg-card-bg border-t-4 border-accent p-6 text-center text-gray-400">
  &copy; 2025 TheHardwareHotline.com | 30 Years Experience
</footer>

<script>
const WEB_APP_URL = "https://script.google.com/macros/s/AKfycby2LCRi0Ff6p3Oxtr8TSYS5nDJgeo1NKsd7mWgtHedtuUuUNDh9PNW5VoC4KfCPQ8Kp/exec";

function showSection(sectionId) {
  document.querySelectorAll('main > section').forEach(s => s.classList.add('hidden'));
  document.getElementById(sectionId).classList.remove('hidden');
}

document.getElementById('bookingForm').addEventListener('submit', async (e) => {
  e.preventDefault();
  const name = document.getElementById('name').value.trim();
  const date = document.getElementById('date').value;
  const time = document.getElementById('time').value;
  const description = document.getElementById('description').value.trim();
  const messageDiv = document.getElementById('bookingMessage');

  const payload = { name, date, time, description };

  try {
    const res = await fetch(WEB_APP_URL, {
      method: "POST",
      body: JSON.stringify(payload),
      headers: { 'Content-Type': 'application/json' }
    });
    const data = await res.json();
    if (data.status === "success") {
      messageDiv.textContent = `ðŸŽ‰ Thank you, ${name}! Your appointment has been booked successfully with TheHardwareHotline.com.`;
      messageDiv.className = "mt-4 p-3 bg-green-600 text-black rounded-lg font-bold text-center";
      messageDiv.classList.remove("hidden");
      e.target.reset();
      loadAppointments();
    } else {
      throw new Error("Booking failed.");
    }
  } catch(err) {
    messageDiv.textContent = "âŒ Network error â€” could not book appointment.";
    messageDiv.className = "mt-4 p-3 bg-red-600 text-black rounded-lg font-bold text-center";
    messageDiv.classList.remove("hidden");
  }
});

// Load appointments from Google Sheet
async function loadAppointments() {
  const listDiv = document.getElementById('appointmentsList');
  try {
    const res = await fetch(WEB_APP_URL);
    const data = await res.json();
    if (!Array.isArray(data)) return;
    listDiv.innerHTML = data.map(a => `
      <div class="p-4 bg-gray-800 rounded-xl shadow-md">
        <p><span class="font-bold accent">Name:</span> ${a.name}</p>
        <p><span class="font-bold accent">Date:</span> ${a.date}</p>
        <p><span class="font-bold accent">Time:</span> ${a.time}</p>
        <p><span class="font-bold accent">Issue:</span> ${a.description}</p>
      </div>
    `).join("");
  } catch(e) {
    listDiv.innerHTML = "<p class='text-red-600 font-bold'>Failed to load appointments.</p>";
  }
}

// Initial load
showSection('services');
loadAppointments();
</script>

</body>
</html>
